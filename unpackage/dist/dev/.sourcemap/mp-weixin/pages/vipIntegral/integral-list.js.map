{"version":3,"sources":["uni-app:///main.js","webpack:///D:/公司项目/eyeUnidev/eyeUnidev/pages/vipIntegral/integral-list.vue?1beb","webpack:///D:/公司项目/eyeUnidev/eyeUnidev/pages/vipIntegral/integral-list.vue?a81e","webpack:///D:/公司项目/eyeUnidev/eyeUnidev/pages/vipIntegral/integral-list.vue?de5c","webpack:///D:/公司项目/eyeUnidev/eyeUnidev/pages/vipIntegral/integral-list.vue?f378","uni-app:///pages/vipIntegral/integral-list.vue","webpack:///D:/公司项目/eyeUnidev/eyeUnidev/pages/vipIntegral/integral-list.vue?9745","webpack:///D:/公司项目/eyeUnidev/eyeUnidev/pages/vipIntegral/integral-list.vue?5907"],"names":["createPage","Page"],"mappings":"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","file":"pages/vipIntegral/integral-list.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/vipIntegral/integral-list.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./integral-list.vue?vue&type=template&id=20c486d0&\"\nvar renderjs\nimport script from \"./integral-list.vue?vue&type=script&lang=js&\"\nexport * from \"./integral-list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./integral-list.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\QMDownload\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/vipIntegral/integral-list.vue\"\nexport default component.exports","export * from \"-!E:\\\\QMDownload\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\QMDownload\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\QMDownload\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\QMDownload\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\QMDownload\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\QMDownload\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./integral-list.vue?vue&type=template&id=20c486d0&\"","var components = {\n  uniGoodsNav: function() {\n    return import(\n      /* webpackChunkName: \"components/uni-goods-nav/uni-goods-nav\" */ \"@/components/uni-goods-nav/uni-goods-nav.vue\"\n    )\n  },\n  uniPopup: function() {\n    return import(\n      /* webpackChunkName: \"components/uni-popup/uni-popup\" */ \"@/components/uni-popup/uni-popup.vue\"\n    )\n  },\n  uniNumberBox: function() {\n    return import(\n      /* webpackChunkName: \"components/uni-number-box/uni-number-box\" */ \"@/components/uni-number-box/uni-number-box.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\QMDownload\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\QMDownload\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\QMDownload\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\QMDownload\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\QMDownload\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./integral-list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\QMDownload\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\QMDownload\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\QMDownload\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\QMDownload\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\QMDownload\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./integral-list.vue?vue&type=script&lang=js&\"","<template>\r\n<view class=\"integral\">\r\n    <view class=\"content\">\r\n        <!-- 轮播图 -->\r\n        <swiper class=\"swiper\" :indicator-dots=\"indicatorDots\" :autoplay=\"autoplay\" :interval=\"interval\" :duration=\"duration\">\r\n            <swiper-item v-for=\"(item, index) in goods.eyeGoods.gallery\" :key=\"index\">\r\n                <view class=\"swiper-item\">\r\n                    <image :src=\"item\"></image>\r\n                </view>\r\n            </swiper-item>\r\n        </swiper>\r\n        <!-- 商品介绍 -->\r\n        <view class=\"con_goods_name\" v-if=\"goods\">\r\n            {{ goods.uloveIntegralGoods.goodsName }}\r\n        </view>\r\n        <view class=\"con_goods_price\" v-if=\"goods\">\r\n            <span class=\"new_price\">积分{{ goods.uloveIntegralGoods.integration }}</span>\r\n            <!-- <span class=\"old_price\">¥{{(goods.uloveIntegralGoods.retailPrice)}}</span> -->\r\n        </view>\r\n        <!-- 商品规格 -->\r\n        <!-- <view class=\"middle_size\" @click=\"openDialog\">\r\n\r\n<span>标准</span>\r\n\r\n<uni-icons type=\"forward\" size=\"20\"></uni-icons>\r\n\r\n</view> -->\r\n        <!-- 商品详情 -->\r\n        <view class=\"details\">\r\n            <view style=\"margin-bottom: 10px\">商品详情</view>\r\n            <view v-if=\"goods.eyeGoods.detail\">\r\n                <editor id=\"editor\" class=\"ql-container\" :read-only=\"true\"></editor>\r\n            </view>\r\n            <view v-else style=\"border-top: 1px solid #e5e5e5; padding-top: 10px\">\r\n                暂无详情\r\n            </view>\r\n        </view>\r\n        <!-- 常见问题 -->\r\n        <view class=\"normal_prob\">\r\n            <span class=\"normal_prob_span\">常见问题</span>\r\n            <view class=\"line\"></view>\r\n        </view>\r\n        <view class=\"problem_content\">\r\n            <ul>\r\n                <li class=\"pro_li\" v-for=\"(iss, i) in issue\" :key=\"i\">\r\n                    <span class=\"problem_title\">{{ iss.question }}</span>\r\n                    <view class=\"problem_text\">\r\n                        {{ iss.answer }}\r\n                    </view>\r\n                </li>\r\n            </ul>\r\n        </view>\r\n    </view>\r\n    <!-- 底部购物车组件 -->\r\n    <view class=\"bottom_nav\">\r\n        <uni-goods-nav :fill=\"true\" :options=\"options\" :buttonGroup=\"buttonGroup\" @buttonClick=\"buttonClick\" />\r\n    </view>\r\n    <!-- 弹框 -->\r\n    <view class=\"b_dialog\">\r\n        <uni-popup ref=\"popup\" type=\"bottom\">\r\n            <view class=\"info\">\r\n                <view class=\"info_top\">\r\n                    <img class=\"dialog_img\" :src=\"skuGoods.picture\" alt=\"\" />\r\n                    <view class=\"right_message\">\r\n                        <span class=\"close_dialog\" @click=\"close\">×</span>\r\n                        <view class=\"price\">\r\n                            积分 <span class=\"price_num\">{{ chooseGoodsInfo.price }}</span>\r\n                        </view>\r\n                        <view class=\"choose_goods\">\r\n                            已选 <span class=\"choose_name\">{{ chooseGoodsInfo.name }}</span>\r\n                        </view>\r\n                    </view>\r\n                </view>\r\n\r\n                <view class=\"info_middle\">\r\n                    <view class=\"goods_tagName\">净含量</view>\r\n                    <view class=\"goods_list\" v-if=\"sku.tree[0] && sku.tree[0].v\">\r\n                        <span class=\"detail_tag\" @click=\"chooseTag(item, index)\" v-for=\"(item, index) in sku.tree[0].v\" :key=\"index\" :class=\"[chooseT == index ? 'tagColor' : '']\">{{ item.name }}</span>\r\n                    </view>\r\n                </view>\r\n\r\n                <view class=\"info_bottom\">\r\n                    <span>兑换数量</span>\r\n                    <view class=\"num_box\">\r\n                        <uni-number-box :min=\"1\" :max=\"maxNum\" @change=\"changeNum\"></uni-number-box>\r\n                    </view>\r\n                </view>\r\n                <!-- 弹出框 购物车组件 -->\r\n                <uni-goods-nav :fill=\"true\" :options=\"options_dialog\" :buttonGroup=\"buttonGroup_dialog\" @click=\"onClickDialog\" @buttonClick=\"buttonClickDialog\" />\r\n            </view>\r\n        </uni-popup>\r\n    </view>\r\n</view>\r\n</template>\r\n\r\n<script>\r\nimport api from '@/pages/api/api.js'\r\nimport uniGoodsNav from \"@/components/uni-goods-nav/uni-goods-nav.vue\";\r\nimport uniPopup from \"@/components/uni-popup/uni-popup.vue\";\r\nimport uniPopupDialog from \"@/components/uni-popup/uni-popup-dialog.vue\";\r\nimport uniNumberBox from \"@/components/uni-number-box/uni-number-box.vue\";\r\nimport _ from \"lodash\";\r\nexport default {\r\n    components: {\r\n        uniPopup,\r\n        uniPopupDialog,\r\n        uniGoodsNav,\r\n        uniNumberBox\r\n    },\r\n    onLoad: function (option) {\r\n        //接收传递的会员商品id\r\n        // console.log(option)\r\n        this.itemId = JSON.parse(decodeURIComponent(option.itemid));\r\n        this.getInit();\r\n    },\r\n    data() {\r\n        return {\r\n            // 轮播图swiper自定义的属性\r\n            indicatorDots: true,\r\n            autoplay: true,\r\n            interval: 2000,\r\n            duration: 500,\r\n            issue: [], //常见问题数组\r\n            goods: {\r\n                //请求的全部数据\r\n                // userHasCollect: 0,\r\n                eyeGoods: {\r\n                    gallery: [],\r\n                },\r\n                uloveIntegralGoods: {},\r\n                level: false,\r\n            },\r\n            skuGoods: {\r\n                title: \"\", // 商品标题\r\n                picture: \"\", // 默认商品 sku 缩略图\r\n            },\r\n\r\n            sku: {\r\n                tree: [],\r\n                list: [],\r\n                price: \"1.00\", // 默认价格（单位元）\r\n            },\r\n            chooseT: -1,\r\n            propsPopup: false,\r\n            showSku: false,\r\n            chooseGoodsInfo: {\r\n                name: \"\",\r\n                price: \"\",\r\n                stock_num: \"\",\r\n                id: \"\",\r\n            },\r\n            maxNum: 1,\r\n            inputNum: 1,\r\n            itemId: \"\",\r\n            // 弹窗购物车组件数据\r\n            options_dialog: [],\r\n            buttonGroup_dialog: [{\r\n                text: \"确认兑换\",\r\n                backgroundColor: \"#ff1497\",\r\n                color: \"#fff\",\r\n            }, ],\r\n            // 购物车组件数据\r\n            buttonGroup: [{\r\n                text: \"立即兑换\",\r\n                backgroundColor: \"#ff1497\",\r\n                color: \"#fff\",\r\n            }, ],\r\n            options: [],\r\n        };\r\n    },\r\n\r\n    methods: {\r\n        getInit() {\r\n            this.$request.get(api.integralDetails, {\r\n                    id: this.itemId\r\n                })\r\n                .then((res) => {\r\n                    console.log(res);\r\n                    this.goods = res.data;\r\n                    this.issue = res.data.issue;\r\n                    let that = this;\r\n                    setTimeout(function () {\r\n                        that.onEditorReady();\r\n                    }, 1000);\r\n                    this.skuAdapter();\r\n                });\r\n        },\r\n        //渲染商品详情\r\n        onEditorReady() {\r\n            uni\r\n                .createSelectorQuery()\r\n                .select(\"#editor\")\r\n                .context((res) => {\r\n                    this.editorCtx = res.context;\r\n                    this.editorCtx.setContents({\r\n                        html: this.goods.eyeGoods.detail,\r\n                    });\r\n                    // this.editorCtx = this.goods.eyeGoods.detail\r\n                })\r\n                .exec();\r\n        },\r\n        openDialog() {\r\n            this.$refs.popup.open();\r\n        },\r\n        // 关闭弹框\r\n        close() {\r\n            this.$refs.popup.close();\r\n        },\r\n\r\n        changeNum(e) {\r\n            console.log(e);\r\n            this.inputNum = e;\r\n        },\r\n        onClickDialog(e) {\r\n            console.log(e);\r\n        },\r\n        //点击立即兑换\r\n        buttonClick(e) {\r\n            if (e.index == 0) {\r\n                if (this.goods.level && this.goods.adequate) {\r\n                    console.log(\"立即兑换\");\r\n                    this.$refs.popup.open();\r\n                } else {\r\n                    uni.showToast({\r\n                        title: \"积分不足或需要购买会员!!!\",\r\n                        icon: \"none\",\r\n                    });\r\n                }\r\n            }\r\n        },\r\n        chooseTag(item, index) {\r\n            console.log(item);\r\n            this.chooseT = index;\r\n            this.chooseGoodsInfo.name = item.name;\r\n            this.chooseGoodsInfo.id = item.id;\r\n        },\r\n\r\n        buttonClickDialog(e) {\r\n            if (e.index == 0) {\r\n                this.buyGoods();\r\n            }\r\n        },\r\n        // 立即兑换函数\r\n        buyGoods() {\r\n            let data = this.chooseGoodsInfo;\r\n            let buy = {\r\n                productId: this.chooseGoodsInfo.id,\r\n                addressId: 0,\r\n                integralGoodsId: this.goods.uloveIntegralGoods.id,\r\n                number: this.inputNum,\r\n            };\r\n            console.log(buy);\r\n            if (!buy.productId) {\r\n                uni.showToast({\r\n                    title: \"选择分类\",\r\n                    icon: \"none\",\r\n                    duration: 1500,\r\n                });\r\n                return;\r\n            } else if (data.stock_num == 0) {\r\n                uni.showToast({\r\n                    title: \"库存不足\",\r\n                    icon: \"none\",\r\n                    duration: 1500,\r\n                });\r\n                return;\r\n            } else {\r\n                uni.navigateTo({\r\n                    url: \"/pages/cart/Orders/Orders-integral?buy=\" +\r\n                        encodeURIComponent(JSON.stringify(buy)),\r\n                });\r\n            }\r\n        },\r\n        getProductId(s1, s2) {\r\n            var productId;\r\n            var s1_name;\r\n            var s2_name;\r\n            _.each(this.goods.specificationList, (specification) => {\r\n                _.each(specification.valueList, (specValue) => {\r\n                    if (specValue.id === s1) {\r\n                        s1_name = specValue.value;\r\n                    } else if (specValue.id === s2) {\r\n                        s2_name = specValue.value;\r\n                    }\r\n                });\r\n            });\r\n            _.each(this.goods.productList, (v) => {\r\n                let result = _.without(v.specifications, s1_name, s2_name);\r\n                if (result.length === 0) {\r\n                    productId = v.id;\r\n                }\r\n            });\r\n            return productId;\r\n        },\r\n        getProductIdByOne(s1) {\r\n            var productId;\r\n            var s1_name;\r\n            _.each(this.goods.specificationList, (specification) => {\r\n                _.each(specification.valueList, (specValue) => {\r\n                    if (specValue.id === s1) {\r\n                        s1_name = specValue.value;\r\n                        return;\r\n                    }\r\n                });\r\n            });\r\n\r\n            _.each(this.goods.specificationList, (v) => {\r\n                let result = _.without(v.specifications, s1_name);\r\n                if (result.length === 0) {\r\n                    productId = v.id;\r\n                }\r\n            });\r\n            return productId;\r\n        },\r\n        skuAdapter() {\r\n            const tree = this.setSkuTree();\r\n            const list = this.setSkuList();\r\n            const skuInfo = {\r\n                price: parseInt(this.goods.uloveIntegralGoods.integration), // 未选择规格时的价格\r\n                stock_num: list[0].stock_num, // TODO 总库存\r\n                collection_id: \"\", // 无规格商品skuId取collection_id，否则取所选sku组合对应的id\r\n                none_sku: false, // 是否无规格商品\r\n                hide_stock: true,\r\n            };\r\n            this.sku = {\r\n                tree,\r\n                list,\r\n                ...skuInfo,\r\n            };\r\n            this.skuGoods = {\r\n                title: this.goods.eyeGoods.name,\r\n                picture: this.goods.eyeGoods.picUrl,\r\n            };\r\n            this.chooseGoodsInfo.name = this.sku.tree[0].k;\r\n            this.chooseGoodsInfo.price = this.sku.price;\r\n            this.chooseGoodsInfo.stock_num = this.sku.stock_num;\r\n            console.log(this.sku);\r\n        },\r\n        setSkuTree() {\r\n            let that = this;\r\n            let specifications = [];\r\n            _.each(this.goods.productList, (v, k) => {\r\n                let values = [];\r\n                _.each(v.specifications, (vv) => {\r\n                    values.push({\r\n                        name: vv,\r\n                        id: v.id,\r\n                        imUrl: v.url,\r\n                    });\r\n                });\r\n\r\n                specifications.push({\r\n                    k: v.name,\r\n                    v: values,\r\n                    k_s: \"s\" + (~~k + 1),\r\n                });\r\n            });\r\n\r\n            return specifications;\r\n        },\r\n        setSkuList() {\r\n            var sku_list = [];\r\n            _.each(this.goods.productList, (v) => {\r\n                var sku_list_obj = {};\r\n                _.each(v.specifications, (specificationName, index) => {\r\n                    sku_list_obj[\"s\" + (~~index + 1)] = this.findSpecValueIdByName(\r\n                        specificationName\r\n                    );\r\n                });\r\n\r\n                sku_list_obj.price = v.price * 100;\r\n                sku_list_obj.stock_num = v.number;\r\n                sku_list.push(sku_list_obj);\r\n            });\r\n            return sku_list;\r\n        },\r\n        findSpecValueIdByName(name) {\r\n            let id = 0;\r\n            _.each(this.goods.specificationList, (specification) => {\r\n                _.each(specification.valueList, (specValue) => {\r\n                    if (specValue.value === name) {\r\n                        id = specValue.id;\r\n                        return;\r\n                    }\r\n                });\r\n                if (id !== 0) {\r\n                    return;\r\n                }\r\n            });\r\n            return id;\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n<style>\r\n.integral {\r\n    background-color: #f2f2f2;\r\n}\r\n\r\n.content {\r\n    margin-bottom: 50px;\r\n}\r\n\r\n/* 轮播图 */\r\n.swiper {\r\n    /* height: 700rpx; */\r\n}\r\n\r\n.swiper-item image {\r\n    height: 375px;\r\n    width: 100%;\r\n}\r\n\r\n/* 商品介绍 */\r\n.con_goods_name {\r\n    font-size: 14px;\r\n    padding: 10px 15px;\r\n    background-color: #fff;\r\n}\r\n\r\n.con_goods_price {\r\n    height: 30px;\r\n    line-height: 30px;\r\n    padding: 0 15px;\r\n    background-color: #fff;\r\n}\r\n\r\n.new_price {\r\n    font-size: 20px;\r\n    color: #ff1497;\r\n    margin-right: 10px;\r\n}\r\n\r\n.old_price {\r\n    font-size: 12px;\r\n    color: #999;\r\n    text-decoration: line-through;\r\n}\r\n\r\n/* 商品规格 */\r\n.middle_size {\r\n    margin-top: 20px;\r\n    height: 40px;\r\n    line-height: 40px;\r\n    background: #fff;\r\n    font-size: 14px;\r\n    padding: 0 20px;\r\n    text-align: right;\r\n}\r\n\r\n.middle_size>span {\r\n    float: left;\r\n}\r\n\r\n/* 商品详情 */\r\n.details {\r\n    background-color: #fff;\r\n    margin-top: 20px;\r\n    text-align: center;\r\n    font-size: 14px;\r\n    padding: 10px;\r\n}\r\n\r\n/* 商品常见问题 */\r\n.normal_prob {\r\n    margin-top: 10px;\r\n    text-align: center;\r\n    font-size: 14px;\r\n    padding: 10px;\r\n    position: relative;\r\n}\r\n\r\n.normal_prob_span {\r\n    z-index: 10;\r\n    position: relative;\r\n    width: 80px;\r\n    display: inline-block;\r\n    background: #f2f2f2;\r\n}\r\n\r\n.line {\r\n    width: calc(100% - 20px);\r\n    border: 1px solid #e5e5e5;\r\n    position: absolute;\r\n    top: 19px;\r\n    z-index: 0;\r\n}\r\n\r\n.problem_content {\r\n    background-color: #fff;\r\n    padding: 10px 0;\r\n}\r\n\r\n.pro_li {\r\n    font-size: 14px;\r\n    margin-bottom: 10px;\r\n}\r\n\r\n.problem_text {\r\n    margin-top: 5px;\r\n    color: rgb(120, 120, 120);\r\n    padding: 0 10px;\r\n}\r\n\r\n/* 购物车组件 */\r\n.bottom_nav {\r\n    position: fixed;\r\n    bottom: 0;\r\n    width: 100%;\r\n    z-index: 10;\r\n}\r\n\r\n/* 弹窗 */\r\n.b_dialog .uni-popup {\r\n    z-index: 500;\r\n}\r\n\r\n.info {\r\n    background: #fff;\r\n    padding-bottom: 10px;\r\n    border-top-left-radius: 15px;\r\n    border-top-right-radius: 15px;\r\n    padding: 10px;\r\n}\r\n\r\n.info_top,\r\n.info_middle {\r\n    border-bottom: 1px solid #e5e5e5;\r\n}\r\n\r\n.dialog_img {\r\n    width: 96px;\r\n    height: 96px;\r\n}\r\n\r\n.right_message {\r\n    display: inline-block;\r\n    vertical-align: top;\r\n    padding: 20px;\r\n    position: relative;\r\n    width: calc(100% - 140px);\r\n}\r\n\r\n.close_dialog {\r\n    position: absolute;\r\n    right: 0;\r\n    top: -4px;\r\n    font-size: 28px;\r\n    color: #c8c9cc;\r\n}\r\n\r\n.price {\r\n    color: #ee0a24;\r\n    font-size: 18px;\r\n}\r\n\r\n.price .price_num {\r\n    font-size: 22px;\r\n    margin-left: 10px;\r\n}\r\n\r\n.choose_goods {\r\n    color: #969799;\r\n    font-size: 12px;\r\n}\r\n\r\n.choose_name {\r\n    margin-left: 5px;\r\n}\r\n\r\n.goods_tagName {\r\n    font-size: 14px;\r\n    padding: 5px 10px;\r\n    margin-bottom: 10px;\r\n}\r\n\r\n.goods_list {\r\n    margin-bottom: 15px;\r\n}\r\n\r\n.goods_list .detail_tag {\r\n    display: inline-block;\r\n    font-size: 13px;\r\n    padding: 7px;\r\n    background-color: #f7f8fa;\r\n    color: #323233;\r\n    margin-left: 14px;\r\n    border-radius: 3px;\r\n    margin-bottom: 10px;\r\n}\r\n\r\n.goods_list .tagColor {\r\n    color: #ee0a24;\r\n    background-color: rgb(253, 231, 234);\r\n}\r\n\r\n.info_bottom {\r\n    padding: 10px;\r\n    font-size: 14px;\r\n    height: 30px;\r\n    line-height: 30px;\r\n    padding-bottom: 20px;\r\n}\r\n\r\n.num_box {\r\n    display: inline-block;\r\n    float: right;\r\n}\r\n\r\n/deep/ #editor.ql-container,\r\n/deep/ #editor.ql-container img {\r\n    height: auto;\r\n}\r\n\r\n/deep/ .num_box .uni-numbox__value {\r\n    width: 35px;\r\n    height: 30px;\r\n}\r\n\r\n/deep/ .swiper {\r\n    height: 375px !important;\r\n}\r\n\r\n/deep/ #editor.ql-container,\r\n/deep/ #editor.ql-container img {\r\n    height: auto;\r\n    display: block;\r\n}\r\n\r\n/deep/ .b_dialog .uni-popup {\r\n    z-index: 600;\r\n}\r\n\r\n/deep/ .num_box .uni-numbox__minus,\r\n/deep/ .num_box .uni-numbox__plus {\r\n    width: 30px;\r\n    height: 30px;\r\n}\r\n\r\n/deep/ .num_box .uni-numbox__value {\r\n    width: 35px;\r\n    height: 30px;\r\n}\r\n</style>\r\n","import mod from \"-!E:\\\\QMDownload\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!E:\\\\QMDownload\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!E:\\\\QMDownload\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\QMDownload\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!E:\\\\QMDownload\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!E:\\\\QMDownload\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\QMDownload\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./integral-list.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!E:\\\\QMDownload\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!E:\\\\QMDownload\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!E:\\\\QMDownload\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\QMDownload\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!E:\\\\QMDownload\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!E:\\\\QMDownload\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\QMDownload\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./integral-list.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1607560905956\n      var cssReload = require(\"E:/QMDownload/HBuilderX.2.7.5.20200519.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}