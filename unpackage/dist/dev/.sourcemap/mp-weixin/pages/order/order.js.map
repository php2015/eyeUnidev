{"version":3,"sources":["uni-app:///main.js","webpack:///D:/公司项目/eyeUnidev/eyeUnidev/pages/order/order.vue?ffd7","webpack:///D:/公司项目/eyeUnidev/eyeUnidev/pages/order/order.vue?c736","webpack:///D:/公司项目/eyeUnidev/eyeUnidev/pages/order/order.vue?bae9","webpack:///D:/公司项目/eyeUnidev/eyeUnidev/pages/order/order.vue?6f40","uni-app:///pages/order/order.vue","webpack:///D:/公司项目/eyeUnidev/eyeUnidev/pages/order/order.vue?d1d7","webpack:///D:/公司项目/eyeUnidev/eyeUnidev/pages/order/order.vue?2ec5"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,4F;AACAA,UAAU,CAACC,cAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA8H;AAC9H;AACyD;AACL;AACqC;;;AAGzF;AACgN;AAChN,gBAAgB,wNAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,4FAAM;AACR,EAAE,qGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,gGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA,WAAW,8LAEN;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AClCA;AAAA;AAAA;AAAA;AAAszB,CAAgB,s0BAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC6D10B,qF;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAPA;AAQA,QARA,oBAQA;AACA;AACA;AACA,GAXA;AAYA;AACA,sBADA;AAEA,kCAFA;AAGA,oCAHA,EAZA;;AAiBA,MAjBA,kBAiBA;AACA;AACA,iDADA;AAEA,kBAFA;AAGA,mBAHA;AAIA,aAJA;AAKA,eALA;AAMA,qBANA;AAOA,eAPA;AAQA,wBARA;AASA,uBATA;AAUA,kBAVA;AAWA,oBAXA;;AAaA,GA/BA;AAgCA,eAhCA,2BAgCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAvCA;AAwCA;AACA,aADA,qBACA,KADA,EACA;AACA;AACA;AACA;AACA;AACA;AACA,KAPA;AAQA,QARA,kBAQA;AACA;AACA;AACA;AACA,KAZA;AAaA,gBAbA,0BAaA;AACA;AACA,SADA,CACA,sBADA,EACA;AACA,gCADA;AAEA,uBAFA;AAGA,yBAHA,EADA;;AAMA,UANA,CAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAPA,MAOA;AACA;AACA,wCADA;AAEA,wBAFA;AAGA,0BAHA;;AAKA;AACA,OArBA;AAsBA,KApCA;AAqCA,cArCA,sBAqCA,EArCA,EAqCA,IArCA,EAqCA;AACA;AACA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA,KAjDA;AAkDA,SAlDA,iBAkDA,IAlDA,EAkDA;AACA;AACA;AACA,KArDA;AAsDA,WAtDA,mBAsDA,IAtDA,EAsDA,KAtDA,EAsDA;AACA;AACA;AACA,YADA,CACA,wBADA,EACA;AACA,gCADA,EADA;;AAIA,YAJA,CAIA;AACA;AACA;AACA;AACA,2BADA;AAEA,wBAFA;AAGA,0BAHA;;AAKA,SAZA;AAaA,OAdA,MAcA;AACA;AACA,YADA,CACA,wBADA,EACA;AACA,gCADA,EADA;;AAIA,YAJA,CAIA;AACA;AACA;AACA;AACA;AACA,8BADA;AAEA,0BAFA;AAGA,4BAHA;;AAKA,WARA,MAQA;AACA;AACA,0CADA;AAEA,0BAFA;AAGA,4BAHA;;AAKA;AACA,SApBA;AAqBA,OAtBA,MAsBA;AACA;AACA,YADA,CACA,yBADA,EACA;AACA,gCADA,EADA;;AAIA,YAJA,CAIA;AACA;AACA;AACA;AACA,0BADA;AAEA,wBAFA;AAGA,0BAHA;;AAKA,SAZA;AAaA;AACA,KA1GA;AA2GA;AACA,OA5GA,eA4GA,EA5GA,EA4GA;AACA;AACA;AACA;AACA;;;;;AAKA;;;;;AAKA,KA1HA;AA2HA;AACA;AACA;AACA;AACA,oBADA;;AAGA;AACA,UADA,CACA,0BADA,EACA;AACA,+BADA,EADA;;AAIA,UAJA,CAIA;AACA;AACA;AACA;AACA,iCADA;AAEA,uCAFA;AAGA,0CAHA;AAIA,yCAJA;AAKA,uCALA;AAMA,yCANA;AAOA,+BAPA;;AASA;AACA,6BADA;AAEA,gCAFA;AAGA,mBAHA,mBAGA,GAHA,EAGA;AACA;AACA,6BADA;AAEA,8BAFA;;AAIA;AACA;AACA;AACA,kDADA;;AAGA,eALA,EAKA,IALA;AAMA,aAdA;AAeA,gBAfA,gBAeA,GAfA,EAeA;AACA;AACA;AACA,4BADA;AAEA,6BAFA;AAGA,8BAHA;;AAKA;AACA;AACA;AACA,kDADA;;AAGA,eALA,EAKA,IALA;AAMA;AACA,aA7BA;;AA+BA,SAzCA,MAyCA;AACA;AACA,wBADA;AAEA,wCAFA;AAGA,0BAHA;;AAKA;AACA,OAtDA;AAuDA,KAxLA;AAyLA;AACA;AACA;AACA,oBADA;;AAGA;AACA,UADA,CACA,yBADA,EACA;AACA,+BADA,EADA;;AAIA,UAJA,CAIA;AACA;AACA;AACA;AACA,6BADA;AAEA,yCAFA;AAGA,uCAHA;AAIA,0CAJA;AAKA,uCALA;AAMA,qCANA;AAOA,mBAPA,mBAOA,IAPA,EAOA;AACA;AACA,6BADA;AAEA,8BAFA;;AAIA;AACA;AACA;AACA,kDADA;;AAGA,eALA,EAKA,IALA;AAMA,aAlBA;AAmBA,gBAnBA,kBAmBA;AACA;AACA,4BADA;AAEA,6BAFA;AAGA,8BAHA;;AAKA;AACA;AACA;AACA,kDADA;;AAGA,eALA,EAKA,IALA;AAMA,aA/BA;;AAiCA,SAlCA,MAkCA;AACA;AACA,wBADA;AAEA,wCAFA;AAGA,0BAHA;;AAKA;AACA,OA/CA;AAgDA,KA9OA;AA+OA;AACA;AACA;AACA,oBADA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA,SAPA,MAOA;AACA;AACA,wBADA;AAEA,wCAFA;AAGA,0BAHA;;AAKA;AACA,OAhBA;AAiBA,KArQA;;AAuQA,YAvQA,oBAuQA,EAvQA,EAuQA;AACA;AACA,gDADA;;AAGA,KA3QA,EAxCA,E;;;;;;;;;;;;;ACjEA;AAAA;AAAA;AAAA;AAAsrC,CAAgB,yqCAAG,EAAC,C;;;;;;;;;;;ACA1sC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/order/order.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/order/order.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./order.vue?vue&type=template&id=127632e4&scoped=true&\"\nvar renderjs\nimport script from \"./order.vue?vue&type=script&lang=js&\"\nexport * from \"./order.vue?vue&type=script&lang=js&\"\nimport style0 from \"./order.vue?vue&type=style&index=0&id=127632e4&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\QMDownload\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"127632e4\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/order/order.vue\"\nexport default component.exports","export * from \"-!E:\\\\QMDownload\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\QMDownload\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\QMDownload\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\QMDownload\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\QMDownload\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\QMDownload\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./order.vue?vue&type=template&id=127632e4&scoped=true&\"","var components = {\n  uniPopup: function() {\n    return import(\n      /* webpackChunkName: \"components/uni-popup/uni-popup\" */ \"@/components/uni-popup/uni-popup.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.orderList, function(el, i) {\n    var $orig = _vm.__get_orig(el)\n\n    var g0 = el.actualPrice.toFixed(2)\n    var g1 = el.post_fee ? el.post_fee.toFixed(2) : null\n    return {\n      $orig: $orig,\n      g0: g0,\n      g1: g1\n    }\n  })\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\QMDownload\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\QMDownload\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\QMDownload\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\QMDownload\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\QMDownload\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./order.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\QMDownload\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\QMDownload\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\QMDownload\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\QMDownload\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\QMDownload\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./order.vue?vue&type=script&lang=js&\"","<template>\r\n<view class=\"container\">\r\n    <view class=\"top_flex\">\r\n        <span class=\"nav_span\" v-for=\"(list, index) in navList\" :key=\"index\" :class=\"[tagChoose == index ? 'chooseTag' : '']\" @click=\"changeTag(index)\">{{ list }}</span>\r\n    </view>\r\n    <view class=\"bottom_content\" v-for=\"(el, i) in orderList\" :key=\"i\" @click=\"toDetail(el.id)\">\r\n        <view class=\"content_top\">\r\n            <view class=\"top_left\">\r\n                <span>订单编号:</span>\r\n                <span class=\"order_num\">{{ el.orderSn }}</span>\r\n            </view>\r\n            <view class=\"top_right\">\r\n                {{ el.orderStatusText }}\r\n            </view>\r\n        </view>\r\n        <view class=\"content_middle\" v-for=\"(goods, goodsI) in el.goodsList\" :key=\"goodsI\">\r\n            <view class=\"middle_left\">\r\n                <img :src=\"goods.picUrl\" alt=\"\" />\r\n            </view>\r\n            <view class=\"middle_right\">\r\n                <view class=\"right_top\">\r\n                    {{ goods.goodsName }}\r\n                </view>\r\n                <view class=\"right_middle\">\r\n                    <span v-for=\"(spec, index) in goods.specifications\" :key=\"index\">{{   spec    }}</span>\r\n                </view>\r\n                <view class=\"right_bottom\"> ×{{ goods.number }} </view>\r\n            </view>\r\n        </view>\r\n        <view class=\"content_bottom\">\r\n            合计: ¥{{ el.actualPrice.toFixed(2) }} (含运费\r\n            <span v-if=\"el.post_fee\">{{ el.post_fee.toFixed(2) }}</span> )\r\n        </view>\r\n        <view class=\"btn_list\">\r\n            <button v-if=\"el.handleOption.cancel\" type=\"default\" plain=\"true\" size=\"mini\" class=\"cancel_btn\" @click.stop=\"showDialog(el.id, 1)\">\r\n                取消订单\r\n            </button>\r\n            <button v-if=\"el.handleOption.pay\" type=\"default\" plain=\"true\" size=\"mini\" class=\"pay_btn color_btn\" @click.stop=\"pay(el.id)\">\r\n                去支付\r\n            </button>\r\n            <button v-if=\"el.handleOption.refund\" type=\"default\" plain=\"true\" size=\"mini\" class=\"refund_btn color_btn\" @click.stop=\"showDialog(el.id, 2)\">\r\n                退款\r\n            </button>\r\n            <button v-if=\"el.handleOption.confirm\" type=\"default\" plain=\"true\" size=\"mini\" class=\"confirm_btn color_btn\" @click.stop=\"showDialog(el.id, 3)\">\r\n                确认收货\r\n            </button>\r\n            <button v-if=\"el.handleOption.comment\" type=\"default\" plain=\"true\" size=\"mini\" class=\"evaluate_btn\">\r\n                去评价\r\n            </button>\r\n        </view>\r\n    </view>\r\n    <view class=\"no_more\" v-if=\"show_noMore\"> 没有更多了 </view>\r\n    <view>\r\n        <uni-popup ref=\"popup\" type=\"center\">\r\n            <uni-popup-dialog type=\"warn\" :content=\"dialogContent\" :duration=\"2000\" :before-close=\"true\" @close=\"close\" @confirm=\"confirm\"></uni-popup-dialog>\r\n        </uni-popup>\r\n    </view>\r\n</view>\r\n</template>\r\n\r\n<script>\r\n\timport api from '@/pages/api/api.js'\r\nimport uniPopup from \"@/components/uni-popup/uni-popup.vue\";\r\nimport uniPopupMessage from \"@/components/uni-popup/uni-popup-message.vue\";\r\nimport uniPopupDialog from \"@/components/uni-popup/uni-popup-dialog.vue\";\r\nexport default {\r\n    onLoad: function (e) {\r\n        // console.log(e)\r\n        this.tagChoose = e.type;\r\n        // // this.categoryId = e.itemClass\r\n        // // this.nav_click = e.itemClass\r\n        // this.init()\r\n    },\r\n    onShow() {\r\n        // this.tagChoose = e.type\r\n        this.init();\r\n    },\r\n    components: {\r\n        uniPopup,\r\n        uniPopupDialog,\r\n        uniPopupMessage,\r\n    },\r\n    data() {\r\n        return {\r\n            navList: [\"全部\", \"待付款\", \"待发货\", \"待收货\", \"待评价\"],\r\n            tagChoose: 0,\r\n            orderList: [],\r\n            page: 1,\r\n            limit: 10,\r\n            finished: false,\r\n            pages: \"\",\r\n            show_noMore: false,\r\n            dialogContent: \"\",\r\n            chooseID: \"\",\r\n            chooseType: \"\",\r\n        };\r\n    },\r\n    onReachBottom() {\r\n        if (this.pages <= this.page) {\r\n            this.show_noMore = true;\r\n            return false;\r\n        }\r\n        this.page += 1;\r\n        this.getOrderList();\r\n    },\r\n    methods: {\r\n        changeTag(index) {\r\n            this.tagChoose = index;\r\n            this.page = 1;\r\n            this.orderList = [];\r\n            this.show_noMore = false;\r\n            this.getOrderList();\r\n        },\r\n        init() {\r\n            this.page = 1;\r\n            this.orderList = [];\r\n            this.getOrderList();\r\n        },\r\n        getOrderList() {\r\n            this.$request\r\n                .get(api.orderList, {\r\n                    showType: this.tagChoose,\r\n                    page: this.page,\r\n                    limit: this.limit,\r\n                })\r\n                .then((res) => {\r\n                    if (res.errno == 0) {\r\n                        this.orderList.push(...res.data.list);\r\n                        this.pages = res.data.pages;\r\n                        if (this.pages <= this.page) {\r\n                            this.show_noMore = true;\r\n                            // return false\r\n                        }\r\n                    } else {\r\n                        uni.showToast({\r\n                            title: `${res.errmsg}`,\r\n                            icon: \"none\",\r\n                            duration: 1500,\r\n                        });\r\n                    }\r\n                });\r\n        },\r\n        showDialog(id, type) {\r\n            console.log(id);\r\n            this.chooseID = id;\r\n            this.chooseType = type;\r\n            if (type == 1) {\r\n                this.dialogContent = \"确定取消该订单吗？\";\r\n            } else if (type == 2) {\r\n                this.dialogContent = \"确定要申请退款吗？\";\r\n            } else if (type == 3) {\r\n                this.dialogContent = \"请确认收到货物, 确认收货后无法撤销!\";\r\n            }\r\n            this.$refs.popup.open();\r\n        },\r\n        close(done) {\r\n            console.log(done);\r\n            this.$refs.popup.close();\r\n        },\r\n        confirm(done, value) {\r\n            if (this.chooseType == 1) {\r\n                this.$request\r\n                    .post(api.orderCancel, {\r\n                        orderId: this.chooseID\r\n                    })\r\n                    .then(() => {\r\n                        this.init();\r\n                        this.$refs.popup.close();\r\n                        uni.showToast({\r\n                            title: \"已取消该订单\",\r\n                            icon: \"none\",\r\n                            duration: 1500,\r\n                        });\r\n                    });\r\n            } else if (this.chooseType == 2) {\r\n                this.$request\r\n                    .post(api.orderRefund, {\r\n                        orderId: this.chooseID\r\n                    })\r\n                    .then((res) => {\r\n                        if (res.errno == 0) {\r\n                            this.init();\r\n                            this.$refs.popup.close();\r\n                            uni.showToast({\r\n                                title: \"已申请订单退款\",\r\n                                icon: \"none\",\r\n                                duration: 1500,\r\n                            });\r\n                        } else {\r\n                            uni.showToast({\r\n                                title: `${res.errmsg}`,\r\n                                icon: \"none\",\r\n                                duration: 1500,\r\n                            });\r\n                        }\r\n                    });\r\n            } else if (this.chooseType == 3) {\r\n                this.$request\r\n                    .post(api.orderConfirm, {\r\n                        orderId: this.chooseID\r\n                    })\r\n                    .then(() => {\r\n                        this.init();\r\n                        this.$refs.popup.close();\r\n                        uni.showToast({\r\n                            title: \"已确认收货\",\r\n                            icon: \"none\",\r\n                            duration: 1500,\r\n                        });\r\n                    });\r\n            }\r\n        },\r\n        // 付款\r\n        pay(id) {\r\n            this.chooseID = id;\r\n            // uni.navigateTo({\r\n            // \turl: '/pages/details/details?id='+id\r\n            // });\r\n            // #ifdef APP-PLUS\r\n            this.paymentApp();\r\n            // #endif\r\n            // #ifdef MP-WEIXIN\r\n            this.paymentWx();\r\n            // #endif\r\n\t\t\t// #ifdef H5\r\n\t\t\tthis.paymentH5();\r\n\t\t\t// #endif\r\n        },\r\n        //点击支付\r\n        paymentApp: function () {\r\n            let _that = this;\r\n            uni.showLoading({\r\n                title: \"请稍后\",\r\n            });\r\n            this.$request\r\n                .post(api.prepaymentApp, {\r\n                    orderId: _that.chooseID,\r\n                })\r\n                .then((res) => {\r\n                    console.log(res);\r\n                    if (res.errno == 0) {\r\n                        let orderInfo = {\r\n                            appid: res.data.appId,\r\n                            noncestr: res.data.nonceStr,\r\n                            package: res.data.packageValue,\r\n                            partnerid: res.data.partnerId,\r\n                            prepayid: res.data.prepayId,\r\n                            timestamp: res.data.timeStamp,\r\n                            sign: res.data.sign,\r\n                        };\r\n                        uni.requestPayment({\r\n                            provider: \"wxpay\",\r\n                            orderInfo: orderInfo,\r\n                            success(res) {\r\n                                uni.showToast({\r\n                                    title: \"付款成功\",\r\n                                    duration: 1500,\r\n                                });\r\n                                setTimeout(function () {\r\n                                    uni.hideLoading();\r\n                                    uni.redirectTo({\r\n                                        url: \"/pages/order/order?type=0\",\r\n                                    });\r\n                                }, 2000);\r\n                            },\r\n                            fail(res) {\r\n                                // _that.list = res\r\n                                uni.showToast({\r\n                                    icon: \"none\",\r\n                                    title: \"付款失败\",\r\n                                    duration: 1500,\r\n                                });\r\n                                setTimeout(function () {\r\n                                    uni.hideLoading();\r\n                                    uni.redirectTo({\r\n                                        url: \"/pages/order/order?type=0\",\r\n                                    });\r\n                                }, 2000);\r\n                                // console.log('fail:' + JSON.stringify(err));\r\n                            },\r\n                        });\r\n                    } else {\r\n                        uni.showToast({\r\n                            icon: \"none\",\r\n                            title: `${res.errmsg}`,\r\n                            duration: 1000,\r\n                        });\r\n                    }\r\n                });\r\n        },\r\n        paymentWx: function () {\r\n            let _that = this;\r\n            uni.showLoading({\r\n                title: \"请稍后\",\r\n            });\r\n            this.$request\r\n                .post(api.prepaymentWx, {\r\n                    orderId: _that.chooseID,\r\n                })\r\n                .then((res) => {\r\n                    console.log(res);\r\n                    if (res.errno == 0) {\r\n                        uni.requestPayment({\r\n                            provider: \"wxpay\",\r\n                            timeStamp: res.data.timeStamp,\r\n                            nonceStr: res.data.nonceStr,\r\n                            package: res.data.packageValue,\r\n                            signType: res.data.signType,\r\n                            paySign: res.data.paySign,\r\n                            success(ress) {\r\n                                uni.showToast({\r\n                                    title: \"付款成功\",\r\n                                    duration: 1500,\r\n                                });\r\n                                setTimeout(function () {\r\n                                    uni.hideLoading();\r\n                                    uni.redirectTo({\r\n                                        url: \"/pages/order/order?type=0\",\r\n                                    });\r\n                                }, 1500);\r\n                            },\r\n                            fail() {\r\n                                uni.showToast({\r\n                                    icon: \"none\",\r\n                                    title: \"付款失败\",\r\n                                    duration: 1500,\r\n                                });\r\n                                setTimeout(function () {\r\n                                    uni.hideLoading();\r\n                                    uni.redirectTo({\r\n                                        url: \"/pages/order/order?type=0\",\r\n                                    });\r\n                                }, 1500);\r\n                            },\r\n                        });\r\n                    } else {\r\n                        uni.showToast({\r\n                            icon: \"none\",\r\n                            title: `${res.errmsg}`,\r\n                            duration: 1500,\r\n                        });\r\n                    }\r\n                });\r\n        },\r\n\t\tpaymentH5:function(){\r\n\t\t\tlet _that = this;\r\n\t\t\tuni.showLoading({\r\n\t\t\t    title: \"请稍后\",\r\n\t\t\t});\r\n\t\t\tthis.$request.post(api.prepaymentH5,{orderId: _that.chooseID}).then((res)=>{\r\n\t\t\t\t//console.log(res);\r\n\t\t\t\tif (res.errno == 0) {\r\n\t\t\t\t\t//console.log(res.data.result.mwebUrl) // 微信外部url链接\r\n\t\t\t\t\tif(res.data.result.mwebUrl.includes('https://')||res.data.result.mwebUrl.includes('http://')){\r\n\t\t\t\t\t\tlocation.href = res.data.result.mwebUrl\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tlocation.href = `https://${res.data.result.mwebUrl}`\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t    uni.showToast({\r\n\t\t\t\t        icon: \"none\",\r\n\t\t\t\t        title: `${res.errmsg}`,\r\n\t\t\t\t        duration: 1000,  \r\n\t\t\t\t    });\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\t\r\n        toDetail(id) {\r\n            uni.navigateTo({\r\n                url: \"/pages/order/orderDetail?id=\" + id,\r\n            });\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.container {\r\n    background-color: #f2f2f2;\r\n    min-height: calc(100vh - 40px);\r\n}\r\n\r\n.top_flex {\r\n    display: flex;\r\n    background-color: #fff;\r\n    height: 40px;\r\n    line-height: 40px;\r\n}\r\n\r\n.nav_span {\r\n    flex-grow: 1;\r\n    text-align: center;\r\n    font-size: 14px;\r\n    margin: 0 10px;\r\n}\r\n\r\n.chooseTag {\r\n    color: rgb(255, 20, 151);\r\n    border-bottom: 2px solid rgb(255, 20, 151);\r\n}\r\n\r\n.bottom_content {\r\n    background-color: #fff;\r\n    margin-bottom: 10px;\r\n}\r\n\r\n.content_top {\r\n    font-size: 14px;\r\n    height: 40px;\r\n    line-height: 40px;\r\n    padding: 0 10px;\r\n    display: flex;\r\n}\r\n\r\n.top_left,\r\n.top_right {\r\n    flex-grow: 1;\r\n}\r\n\r\n.top_right {\r\n    text-align: right;\r\n    color: #ee0a24;\r\n}\r\n\r\n.order_num {\r\n    margin-left: 5px;\r\n}\r\n\r\n.content_middle {\r\n    padding: 0 10px;\r\n}\r\n\r\n.middle_left,\r\n.middle_right {\r\n    display: inline-block;\r\n    height: 90px;\r\n    vertical-align: top;\r\n}\r\n\r\n.middle_left img {\r\n    width: 88px;\r\n    max-height: 88px;\r\n}\r\n\r\n.middle_right {\r\n    margin-left: 5px;\r\n    position: relative;\r\n    width: calc(100% - 100px);\r\n}\r\n\r\n.right_top {\r\n    font-size: 14px;\r\n}\r\n\r\n.right_middle span {\r\n    font-size: 13px;\r\n    border: 1px solid #e5e5e5;\r\n    color: #969799;\r\n    padding: 2px;\r\n    margin-right: 5px;\r\n}\r\n\r\n.right_bottom {\r\n    position: absolute;\r\n    bottom: 0;\r\n    width: 100%;\r\n    text-align: right;\r\n    font-size: 13px;\r\n    color: #969799;\r\n}\r\n\r\n.content_bottom {\r\n    height: 40px;\r\n    line-height: 40px;\r\n    text-align: right;\r\n    font-size: 14px;\r\n    padding: 0 10px;\r\n}\r\n\r\n.btn_list {\r\n    text-align: right;\r\n    padding: 0 10px;\r\n}\r\n\r\n.cancel_btn,\r\n.evaluate_btn {\r\n    border-color: #e5e5e5 !important;\r\n}\r\n\r\n.btn_list uni-button {\r\n    margin-left: 10px;\r\n}\r\n\r\n.color_btn {\r\n    border-color: #ff1497 !important;\r\n    background-color: #ff1497 !important;\r\n    color: #fff !important;\r\n}\r\n\r\n.no_more {\r\n    text-align: center;\r\n    font-size: 14px;\r\n    padding: 15px 0 30px 0;\r\n}\r\n</style>\r\n","import mod from \"-!E:\\\\QMDownload\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!E:\\\\QMDownload\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!E:\\\\QMDownload\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\QMDownload\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!E:\\\\QMDownload\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!E:\\\\QMDownload\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\QMDownload\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./order.vue?vue&type=style&index=0&id=127632e4&scoped=true&lang=css&\"; export default mod; export * from \"-!E:\\\\QMDownload\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!E:\\\\QMDownload\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!E:\\\\QMDownload\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\QMDownload\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!E:\\\\QMDownload\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!E:\\\\QMDownload\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\QMDownload\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./order.vue?vue&type=style&index=0&id=127632e4&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1607560905871\n      var cssReload = require(\"E:/QMDownload/HBuilderX.2.7.5.20200519.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}