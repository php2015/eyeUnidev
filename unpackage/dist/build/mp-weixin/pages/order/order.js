(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/order/order"],{"0856":function(t,e,o){"use strict";(function(t){function n(t){return u(t)||s(t)||r(t)||i()}function i(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(t,e){if(t){if("string"===typeof t)return a(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(o):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?a(t,e):void 0}}function s(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function u(t){if(Array.isArray(t))return a(t)}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,n=new Array(e);o<e;o++)n[o]=t[o];return n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=function(){o.e("components/uni-popup/uni-popup").then(function(){return resolve(o("3e36"))}.bind(null,o)).catch(o.oe)},p=function(){o.e("components/uni-popup/uni-popup-message").then(function(){return resolve(o("dae9"))}.bind(null,o)).catch(o.oe)},f=function(){o.e("components/uni-popup/uni-popup-dialog").then(function(){return resolve(o("1db5"))}.bind(null,o)).catch(o.oe)},h={onLoad:function(t){console.log(t),this.tagChoose=t.type,this.init()},components:{uniPopup:c,uniPopupDialog:f,uniPopupMessage:p},data:function(){return{navList:["全部","待付款","待发货","待收货","待评价"],tagChoose:0,orderList:[],page:1,limit:10,finished:!1,pages:"",show_noMore:!1,dialogContent:"",chooseID:"",chooseType:""}},onReachBottom:function(){if(this.pages<=this.page)return this.show_noMore=!0,!1;this.page+=1,this.getOrderList()},methods:{changeTag:function(t){this.tagChoose=t,this.page=1,this.orderList=[],this.show_noMore=!1,this.getOrderList()},init:function(){this.page=1,this.orderList=[],this.getOrderList()},getOrderList:function(){var t=this;this.$request.get("order/list",{showType:this.tagChoose,page:this.page,limit:this.limit}).then((function(e){var o;(o=t.orderList).push.apply(o,n(e.data.list)),t.pages=e.data.pages,t.pages<=t.page&&(t.show_noMore=!0)}))},showDialog:function(t,e){console.log(t),this.chooseID=t,this.chooseType=e,1==e?this.dialogContent="确定取消该订单吗？":2==e?this.dialogContent="确定要申请退款吗？":3==e&&(this.dialogContent="请确认收到货物, 确认收货后无法撤销!"),this.$refs.popup.open()},close:function(t){console.log(t),this.$refs.popup.close()},confirm:function(e,o){var n=this;1==this.chooseType?this.$request.post("order/cancel",{orderId:this.chooseID}).then((function(){n.init(),t.showToast({title:"已取消该订单",icon:"none"})})):2==this.chooseType?this.$request.post("order/refund",{orderId:this.chooseID}).then((function(){n.init(),t.showToast({title:"已申请订单退款",icon:"none"})})):3==this.chooseType&&this.$request.post("order/confirm",{orderId:this.chooseID}).then((function(){n.init(),t.showToast({title:"已确认收货",icon:"none"})}))},pay:function(t){},toDetail:function(e){t.navigateTo({url:"/pages/order/orderDetail?id="+e})}}};e.default=h}).call(this,o("543d")["default"])},"0b29":function(t,e,o){},"2eb0":function(t,e,o){"use strict";o.r(e);var n=o("9495"),i=o("f1ba");for(var r in i)"default"!==r&&function(t){o.d(e,t,(function(){return i[t]}))}(r);o("c05e");var s,u=o("f0c5"),a=Object(u["a"])(i["default"],n["b"],n["c"],!1,null,"13ed6633",null,!1,n["a"],s);e["default"]=a.exports},9495:function(t,e,o){"use strict";var n={uniPopup:function(){return o.e("components/uni-popup/uni-popup").then(o.bind(null,"3e36"))}},i=function(){var t=this,e=t.$createElement,o=(t._self._c,t.__map(t.orderList,(function(e,o){var n=t.__get_orig(e),i=e.actualPrice.toFixed(2),r=e.post_fee?e.post_fee.toFixed(2):null;return{$orig:n,g0:i,g1:r}})));t.$mp.data=Object.assign({},{$root:{l0:o}})},r=[];o.d(e,"b",(function(){return i})),o.d(e,"c",(function(){return r})),o.d(e,"a",(function(){return n}))},c05e:function(t,e,o){"use strict";var n=o("0b29"),i=o.n(n);i.a},ef7e:function(t,e,o){"use strict";(function(t){o("9fd1");n(o("66fd"));var e=n(o("2eb0"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,o("543d")["createPage"])},f1ba:function(t,e,o){"use strict";o.r(e);var n=o("0856"),i=o.n(n);for(var r in n)"default"!==r&&function(t){o.d(e,t,(function(){return n[t]}))}(r);e["default"]=i.a}},[["ef7e","common/runtime","common/vendor"]]]);