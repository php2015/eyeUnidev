(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-order-order"],{"0148":function(t,e,n){var o=n("24fb");e=o(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.uni-popup-message[data-v-7b64f6b3]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;background-color:#e1f3d8;padding:10px 15px;border-color:#eee;border-style:solid;border-width:1px}.uni-popup-message-text[data-v-7b64f6b3]{font-size:14px;padding:0}.uni-popup__success[data-v-7b64f6b3]{background-color:#e1f3d8}.uni-popup__success-text[data-v-7b64f6b3]{color:#67c23a}.uni-popup__warn[data-v-7b64f6b3]{background-color:#faecd8}.uni-popup__warn-text[data-v-7b64f6b3]{color:#e6a23c}.uni-popup__error[data-v-7b64f6b3]{background-color:#fde2e2}.uni-popup__error-text[data-v-7b64f6b3]{color:#f56c6c}.uni-popup__info[data-v-7b64f6b3]{background-color:#f2f6fc}.uni-popup__info-text[data-v-7b64f6b3]{color:#909399}',""]),t.exports=e},"06c5":function(t,e,n){"use strict";n("a630"),n("fb6a"),n("d3b7"),n("25f0"),n("3ca3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var o=i(n("6b75"));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(t){if("string"===typeof t)return(0,o.default)(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,o.default)(t,e):void 0}}},"265c":function(t,e,n){"use strict";var o=n("991c"),i=n.n(o);i.a},2909:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=u;var o=s(n("6005")),i=s(n("db90")),a=s(n("06c5")),r=s(n("3427"));function s(t){return t&&t.__esModule?t:{default:t}}function u(t){return(0,o.default)(t)||(0,i.default)(t)||(0,a.default)(t)||(0,r.default)()}},"2daa":function(t,e,n){"use strict";var o;n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return o}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"uni-popup-message",class:"uni-popup__"+[t.type]},[n("v-uni-text",{staticClass:"uni-popup-message-text",class:"uni-popup__"+[t.type]+"-text"},[t._v(t._s(t.message))])],1)},a=[]},3427:function(t,e,n){"use strict";function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o},5850:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return o}));var o={uniPopup:n("636b").default},i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"container"},[n("v-uni-view",{staticClass:"top_flex"},t._l(t.navList,(function(e,o){return n("span",{key:o,staticClass:"nav_span",class:[t.tagChoose==o?"chooseTag":""],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeTag(o)}}},[t._v(t._s(e))])})),0),t._l(t.orderList,(function(e,o){return n("v-uni-view",{key:o,staticClass:"bottom_content",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.toDetail(e.id)}}},[n("v-uni-view",{staticClass:"content_top"},[n("v-uni-view",{staticClass:"top_left"},[n("span",[t._v("订单编号:")]),n("span",{staticClass:"order_num"},[t._v(t._s(e.orderSn))])]),n("v-uni-view",{staticClass:"top_right"},[t._v(t._s(e.orderStatusText))])],1),t._l(e.goodsList,(function(e,o){return n("v-uni-view",{key:o,staticClass:"content_middle"},[n("v-uni-view",{staticClass:"middle_left"},[n("img",{attrs:{src:e.picUrl,alt:""}})]),n("v-uni-view",{staticClass:"middle_right"},[n("v-uni-view",{staticClass:"right_top"},[t._v(t._s(e.goodsName))]),n("v-uni-view",{staticClass:"right_middle"},t._l(e.specifications,(function(e,o){return n("span",{key:o},[t._v(t._s(e))])})),0),n("v-uni-view",{staticClass:"right_bottom"},[t._v("×"+t._s(e.number))])],1)],1)})),n("v-uni-view",{staticClass:"content_bottom"},[t._v("合计: ¥"+t._s(e.actualPrice.toFixed(2))+" (含运费"),e.post_fee?n("span",[t._v(t._s(e.post_fee.toFixed(2)))]):t._e(),t._v(")")]),n("v-uni-view",{staticClass:"btn_list"},[e.handleOption.cancel?n("v-uni-button",{staticClass:"cancel_btn",attrs:{type:"default",plain:"true",size:"mini"},on:{click:function(n){n.stopPropagation(),arguments[0]=n=t.$handleEvent(n),t.showDialog(e.id,1)}}},[t._v("取消订单")]):t._e(),e.handleOption.pay?n("v-uni-button",{staticClass:"pay_btn color_btn",attrs:{type:"default",plain:"true",size:"mini"},on:{click:function(n){n.stopPropagation(),arguments[0]=n=t.$handleEvent(n),t.pay(e.id)}}},[t._v("去支付")]):t._e(),e.handleOption.refund?n("v-uni-button",{staticClass:"refund_btn color_btn",attrs:{type:"default",plain:"true",size:"mini"},on:{click:function(n){n.stopPropagation(),arguments[0]=n=t.$handleEvent(n),t.showDialog(e.id,2)}}},[t._v("退款")]):t._e(),e.handleOption.confirm?n("v-uni-button",{staticClass:"confirm_btn color_btn",attrs:{type:"default",plain:"true",size:"mini"},on:{click:function(n){n.stopPropagation(),arguments[0]=n=t.$handleEvent(n),t.showDialog(e.id,3)}}},[t._v("确认收货")]):t._e(),e.handleOption.comment?n("v-uni-button",{staticClass:"evaluate_btn",attrs:{type:"default",plain:"true",size:"mini"}},[t._v("去评价")]):t._e()],1)],2)})),t.show_noMore?n("v-uni-view",{staticClass:"no_more"},[t._v("没有更多了")]):t._e(),n("v-uni-view",[n("uni-popup",{ref:"popup",attrs:{type:"center"}},[n("uni-popup-dialog",{attrs:{type:"warn",content:t.dialogContent,duration:2e3,"before-close":!0},on:{close:function(e){arguments[0]=e=t.$handleEvent(e),t.close.apply(void 0,arguments)},confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.confirm.apply(void 0,arguments)}}})],1)],1)],2)},a=[]},"590c":function(t,e,n){"use strict";n.r(e);var o=n("2daa"),i=n("80d5");for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);n("265c");var r,s=n("f0c5"),u=Object(s["a"])(i["default"],o["b"],o["c"],!1,null,"7b64f6b3",null,!1,o["a"],r);e["default"]=u.exports},6005:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var o=i(n("6b75"));function i(t){return t&&t.__esModule?t:{default:t}}function a(t){if(Array.isArray(t))return(0,o.default)(t)}},"6b75":function(t,e,n){"use strict";function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o},"80d5":function(t,e,n){"use strict";n.r(e);var o=n("da4f"),i=n.n(o);for(var a in o)"default"!==a&&function(t){n.d(e,t,(function(){return o[t]}))}(a);e["default"]=i.a},"991c":function(t,e,n){var o=n("0148");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var i=n("4f06").default;i("d5340706",o,!0,{sourceMap:!1,shadowMode:!1})},b516:function(t,e,n){var o=n("e29e");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var i=n("4f06").default;i("d2dd0c5c",o,!0,{sourceMap:!1,shadowMode:!1})},da4f:function(t,e,n){"use strict";n("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o={name:"UniPopupMessage",props:{type:{type:String,default:"success"},message:{type:String,default:""},duration:{type:Number,default:3e3}},inject:["popup"],data:function(){return{}},created:function(){this.popup.childrenMsg=this},methods:{open:function(){var t=this;0!==this.duration&&(clearTimeout(this.popuptimer),this.popuptimer=setTimeout((function(){t.popup.close()}),this.duration))},close:function(){clearTimeout(this.popuptimer)}}};e.default=o},dace:function(t,e,n){"use strict";var o=n("b516"),i=n.n(o);i.a},db90:function(t,e,n){"use strict";function o(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}n("a4d3"),n("e01a"),n("d28b"),n("a630"),n("d3b7"),n("3ca3"),n("ddb0"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=o},debf:function(t,e,n){"use strict";n.r(e);var o=n("5850"),i=n("fcaa");for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);n("dace");var r,s=n("f0c5"),u=Object(s["a"])(i["default"],o["b"],o["c"],!1,null,"826558ac",null,!1,o["a"],r);e["default"]=u.exports},e29e:function(t,e,n){var o=n("24fb");e=o(!1),e.push([t.i,".container[data-v-826558ac]{background-color:#f2f2f2;min-height:calc(100vh - 40px)}.top_flex[data-v-826558ac]{display:-webkit-box;display:-webkit-flex;display:flex;background-color:#fff;height:40px;line-height:40px}.nav_span[data-v-826558ac]{-webkit-box-flex:1;-webkit-flex-grow:1;flex-grow:1;text-align:center;font-size:14px;margin:0 10px}.chooseTag[data-v-826558ac]{color:#ff1497;border-bottom:2px solid #ff1497}.bottom_content[data-v-826558ac]{background-color:#fff;margin-bottom:10px}.content_top[data-v-826558ac]{font-size:14px;height:40px;line-height:40px;padding:0 10px;display:-webkit-box;display:-webkit-flex;display:flex}.top_left[data-v-826558ac],\r\n.top_right[data-v-826558ac]{-webkit-box-flex:1;-webkit-flex-grow:1;flex-grow:1}.top_right[data-v-826558ac]{text-align:right;color:#ee0a24}.order_num[data-v-826558ac]{margin-left:5px}.content_middle[data-v-826558ac]{padding:0 10px}.middle_left[data-v-826558ac],\r\n.middle_right[data-v-826558ac]{display:inline-block;height:90px;vertical-align:top}.middle_left img[data-v-826558ac]{width:88px;max-height:88px}.middle_right[data-v-826558ac]{margin-left:5px;position:relative;width:calc(100% - 100px)}.right_top[data-v-826558ac]{font-size:14px}.right_middle span[data-v-826558ac]{font-size:13px;border:1px solid #e5e5e5;color:#969799;padding:2px;margin-right:5px}.right_bottom[data-v-826558ac]{position:absolute;bottom:0;width:100%;text-align:right;font-size:13px;color:#969799}.content_bottom[data-v-826558ac]{height:40px;line-height:40px;text-align:right;font-size:14px;padding:0 10px}.btn_list[data-v-826558ac]{text-align:right;padding:0 10px}.cancel_btn[data-v-826558ac],\r\n.evaluate_btn[data-v-826558ac]{border-color:#e5e5e5!important}.btn_list uni-button[data-v-826558ac]{margin-left:10px}.color_btn[data-v-826558ac]{border-color:#ff1497!important;background-color:#ff1497!important;color:#fff!important}.no_more[data-v-826558ac]{text-align:center;font-size:14px;padding:15px 0 30px 0}",""]),t.exports=e},f200:function(t,e,n){"use strict";var o=n("4ea4");n("caad"),n("2532"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(n("2909")),a=o(n("baad")),r=o(n("636b")),s=o(n("590c")),u=o(n("1eea")),c={onLoad:function(t){this.tagChoose=t.type},onShow:function(){this.init()},components:{uniPopup:r.default,uniPopupDialog:u.default,uniPopupMessage:s.default},data:function(){return{navList:["全部","待付款","待发货","待收货","待评价"],tagChoose:0,orderList:[],page:1,limit:10,finished:!1,pages:"",show_noMore:!1,dialogContent:"",chooseID:"",chooseType:""}},onReachBottom:function(){if(this.pages<=this.page)return this.show_noMore=!0,!1;this.page+=1,this.getOrderList()},methods:{changeTag:function(t){this.tagChoose=t,this.page=1,this.orderList=[],this.show_noMore=!1,this.getOrderList()},init:function(){this.page=1,this.orderList=[],this.getOrderList()},getOrderList:function(){var t=this;this.$request.get(a.default.orderList,{showType:this.tagChoose,page:this.page,limit:this.limit}).then((function(e){var n;0==e.errno?((n=t.orderList).push.apply(n,(0,i.default)(e.data.list)),t.pages=e.data.pages,t.pages<=t.page&&(t.show_noMore=!0)):uni.showToast({title:"".concat(e.errmsg),icon:"none",duration:1500})}))},showDialog:function(t,e){console.log(t),this.chooseID=t,this.chooseType=e,1==e?this.dialogContent="确定取消该订单吗？":2==e?this.dialogContent="确定要申请退款吗？":3==e&&(this.dialogContent="请确认收到货物, 确认收货后无法撤销!"),this.$refs.popup.open()},close:function(t){console.log(t),this.$refs.popup.close()},confirm:function(t,e){var n=this;1==this.chooseType?this.$request.post(a.default.orderCancel,{orderId:this.chooseID}).then((function(){n.init(),n.$refs.popup.close(),uni.showToast({title:"已取消该订单",icon:"none",duration:1500})})):2==this.chooseType?this.$request.post(a.default.orderRefund,{orderId:this.chooseID}).then((function(t){0==t.errno?(n.init(),n.$refs.popup.close(),uni.showToast({title:"已申请订单退款",icon:"none",duration:1500})):uni.showToast({title:"".concat(t.errmsg),icon:"none",duration:1500})})):3==this.chooseType&&this.$request.post(a.default.orderConfirm,{orderId:this.chooseID}).then((function(){n.init(),n.$refs.popup.close(),uni.showToast({title:"已确认收货",icon:"none",duration:1500})}))},pay:function(t){this.chooseID=t,this.paymentH5()},paymentApp:function(){var t=this;uni.showLoading({title:"请稍后"}),this.$request.post(a.default.prepaymentApp,{orderId:t.chooseID}).then((function(t){if(console.log(t),0==t.errno){var e={appid:t.data.appId,noncestr:t.data.nonceStr,package:t.data.packageValue,partnerid:t.data.partnerId,prepayid:t.data.prepayId,timestamp:t.data.timeStamp,sign:t.data.sign};uni.requestPayment({provider:"wxpay",orderInfo:e,success:function(t){uni.showToast({title:"付款成功",duration:1500}),setTimeout((function(){uni.hideLoading(),uni.redirectTo({url:"/pages/order/order?type=0"})}),2e3)},fail:function(t){uni.showToast({icon:"none",title:"付款失败",duration:1500}),setTimeout((function(){uni.hideLoading(),uni.redirectTo({url:"/pages/order/order?type=0"})}),2e3)}})}else uni.showToast({icon:"none",title:"".concat(t.errmsg),duration:1e3})}))},paymentWx:function(){var t=this;uni.showLoading({title:"请稍后"}),this.$request.post(a.default.prepaymentWx,{orderId:t.chooseID}).then((function(t){console.log(t),0==t.errno?uni.requestPayment({provider:"wxpay",timeStamp:t.data.timeStamp,nonceStr:t.data.nonceStr,package:t.data.packageValue,signType:t.data.signType,paySign:t.data.paySign,success:function(t){uni.showToast({title:"付款成功",duration:1500}),setTimeout((function(){uni.hideLoading(),uni.redirectTo({url:"/pages/order/order?type=0"})}),1500)},fail:function(){uni.showToast({icon:"none",title:"付款失败",duration:1500}),setTimeout((function(){uni.hideLoading(),uni.redirectTo({url:"/pages/order/order?type=0"})}),1500)}}):uni.showToast({icon:"none",title:"".concat(t.errmsg),duration:1500})}))},paymentH5:function(){var t=this;uni.showLoading({title:"请稍后"}),this.$request.post(a.default.prepaymentH5,{orderId:t.chooseID}).then((function(t){0==t.errno?t.data.result.mwebUrl.includes("https://")||t.data.result.mwebUrl.includes("http://")?location.href=t.data.result.mwebUrl:location.href="https://".concat(t.data.result.mwebUrl):uni.showToast({icon:"none",title:"".concat(t.errmsg),duration:1e3})}))},toDetail:function(t){uni.navigateTo({url:"/pages/order/orderDetail?id="+t})}}};e.default=c},fcaa:function(t,e,n){"use strict";n.r(e);var o=n("f200"),i=n.n(o);for(var a in o)"default"!==a&&function(t){n.d(e,t,(function(){return o[t]}))}(a);e["default"]=i.a}}]);