(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-order-orderDetail"],{"0148":function(t,o,e){var n=e("24fb");o=n(!1),o.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.uni-popup-message[data-v-7b64f6b3]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;background-color:#e1f3d8;padding:10px 15px;border-color:#eee;border-style:solid;border-width:1px}.uni-popup-message-text[data-v-7b64f6b3]{font-size:14px;padding:0}.uni-popup__success[data-v-7b64f6b3]{background-color:#e1f3d8}.uni-popup__success-text[data-v-7b64f6b3]{color:#67c23a}.uni-popup__warn[data-v-7b64f6b3]{background-color:#faecd8}.uni-popup__warn-text[data-v-7b64f6b3]{color:#e6a23c}.uni-popup__error[data-v-7b64f6b3]{background-color:#fde2e2}.uni-popup__error-text[data-v-7b64f6b3]{color:#f56c6c}.uni-popup__info[data-v-7b64f6b3]{background-color:#f2f6fc}.uni-popup__info-text[data-v-7b64f6b3]{color:#909399}',""]),t.exports=o},"265c":function(t,o,e){"use strict";var n=e("991c"),i=e.n(n);i.a},"2daa":function(t,o,e){"use strict";var n;e.d(o,"b",(function(){return i})),e.d(o,"c",(function(){return a})),e.d(o,"a",(function(){return n}));var i=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("v-uni-view",{staticClass:"uni-popup-message",class:"uni-popup__"+[t.type]},[e("v-uni-text",{staticClass:"uni-popup-message-text",class:"uni-popup__"+[t.type]+"-text"},[t._v(t._s(t.message))])],1)},a=[]},"45ab":function(t,o,e){"use strict";e.r(o);var n=e("fa0d"),i=e("a798");for(var a in i)"default"!==a&&function(t){e.d(o,t,(function(){return i[t]}))}(a);e("f5de");var r,s=e("f0c5"),d=Object(s["a"])(i["default"],n["b"],n["c"],!1,null,"23d71b25",null,!1,n["a"],r);o["default"]=d.exports},"590c":function(t,o,e){"use strict";e.r(o);var n=e("2daa"),i=e("80d5");for(var a in i)"default"!==a&&function(t){e.d(o,t,(function(){return i[t]}))}(a);e("265c");var r,s=e("f0c5"),d=Object(s["a"])(i["default"],n["b"],n["c"],!1,null,"7b64f6b3",null,!1,n["a"],r);o["default"]=d.exports},"7d9b":function(t,o,e){"use strict";var n=e("4ea4");e("caad"),e("2532"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var i=n(e("ade3")),a=n(e("baad")),r=n(e("636b")),s=n(e("590c")),d=n(e("1eea")),c={onLoad:function(t){console.log(t),this.orderId=t.id,this.init()},components:{uniPopup:r.default,uniPopupDialog:d.default,uniPopupMessage:s.default},data:function(){return{isSubmit:!1,isDisabled:!1,orderInfo:{},orderGoods:[],handleOption:{},expressInfo:{},orderId:"",dialogContent:"",chooseType:"",chooseID:"",showBtn:!0}},methods:(0,i.default)({init:function(){var t=this;this.$request.get(a.default.orderDetail,{orderId:this.orderId}).then((function(o){if(0==o.errno){var e=o.data;t.orderInfo=e.orderInfo,t.orderGoods=e.orderGoods,t.handleOption=e.orderInfo.handleOption,t.expressInfo=e.expressInfo,"已付款已查看"==e.orderInfo.orderStatusText?t.showBtn=!1:t.showBtn=!0}else uni.showToast({title:"".concat(o.errmsg),icon:"none",duration:1500})}))},showDialog:function(t,o){console.log(t),this.chooseID=t,this.chooseType=o,1==o?this.dialogContent="确定取消该订单吗？":4==o?this.dialogContent="确定要申请退款吗？":3==o?this.dialogContent="请确认收到货物, 确认收货后无法撤销!":2==o&&(this.dialogContent="确定删除该订单吗？"),this.$refs.popup.open()},close:function(t){console.log(t),this.$refs.popup.close()},confirm:function(t,o){var e=this;1==this.chooseType?this.$request.post(a.default.orderCancel,{orderId:this.chooseID}).then((function(){e.init(),e.$refs.popup.close(),uni.showToast({title:"已取消该订单",icon:"none",duration:1500}),setTimeout((function(){uni.redirectTo({url:"/pages/order/order"})}),1500)})):4==this.chooseType?this.$request.post(a.default.orderRefund,{orderId:this.chooseID}).then((function(){e.init(),e.$refs.popup.close(),uni.showToast({title:"已申请订单退款",icon:"none",duration:1500}),setTimeout((function(){uni.redirectTo({url:"/pages/order/order"})}),1500)})):3==this.chooseType?this.$request.post(a.default.orderConfirm,{orderId:this.chooseID}).then((function(){e.init(),e.$refs.popup.close(),uni.showToast({title:"已确认收货",icon:"none",duration:1500}),setTimeout((function(){uni.redirectTo({url:"/pages/order/order?type=0"})}),1500)})):2==this.chooseType?this.$request.post(a.default.orderDelete,{orderId:this.chooseID}).then((function(){e.$refs.popup.close(),uni.showToast({title:"已删除订单",icon:"none",duration:1500}),setTimeout((function(){uni.redirectTo({url:"/pages/order/order?type=0"})}),1500)})):5==this.chooseType&&this.$request.get(a.default.orderShowLink,{orderId:this.chooseID}).then((function(t){e.$refs.popup.close(),0==t.errno?(uni.showToast({title:"操作成功",icon:"none",duration:1500}),e.init()):uni.showToast({title:"".concat(t.errmsg),icon:"none",duration:1500})}))},pay:function(t){this.chooseID=t,this.paymentH5()},paymentApp:function(){var t=this;uni.showLoading({title:"请稍后"}),this.$request.post(a.default.prepaymentApp,{orderId:t.chooseID}).then((function(t){if(console.log(t),0==t.errno){var o={appid:t.data.appId,noncestr:t.data.nonceStr,package:t.data.packageValue,partnerid:t.data.partnerId,prepayid:t.data.prepayId,timestamp:t.data.timeStamp,sign:t.data.sign};uni.requestPayment({provider:"wxpay",orderInfo:o,success:function(t){uni.showToast({title:"付款成功",duration:1500}),setTimeout((function(){uni.hideLoading(),uni.redirectTo({url:"/pages/order/order?type=0"})}),2e3)},fail:function(t){uni.showToast({icon:"none",title:"付款失败",duration:1500}),setTimeout((function(){uni.hideLoading(),uni.redirectTo({url:"/pages/order/order?type=0"})}),2e3)}})}else uni.showToast({icon:"none",title:"".concat(t.errmsg),duration:1e3})}))},paymentWx:function(){var t=this;uni.showLoading({title:"请稍后"}),this.$request.post(a.default.prepaymentWx,{orderId:t.chooseID}).then((function(t){console.log(t),0==t.errno?uni.requestPayment({provider:"wxpay",timeStamp:t.data.timeStamp,nonceStr:t.data.nonceStr,package:t.data.packageValue,signType:t.data.signType,paySign:t.data.paySign,success:function(t){uni.showToast({title:"付款成功",duration:1500}),setTimeout((function(){uni.hideLoading(),uni.redirectTo({url:"/pages/order/order"})}),1500)},fail:function(){uni.showToast({icon:"none",title:"付款失败",duration:1500}),setTimeout((function(){uni.hideLoading(),uni.redirectTo({url:"/pages/order/order"})}),1500)}}):uni.showToast({icon:"none",title:"".concat(t.errmsg),duration:1500})}))},paymentH5:function(){var t=this;uni.showLoading({title:"请稍后"}),this.$request.post(a.default.prepaymentH5,{orderId:t.chooseID}).then((function(t){0==t.errno?t.data.result.mwebUrl.includes("https://")||t.data.result.mwebUrl.includes("http://")?location.href=t.data.result.mwebUrl:location.href="https://".concat(t.data.result.mwebUrl):uni.showToast({icon:"none",title:"".concat(t.errmsg),duration:1e3})}))},copy:function(t){uni.setClipboardData({data:t,success:function(){uni.showToast({title:"复制成功"})}})},showPan:function(t){this.chooseID=t,this.chooseType=5,this.dialogContent="查看后将无法退款,是否继续?",console.log(this.chooseID),this.$refs.popup.open()}},"close",(function(t){console.log(t),this.$refs.popup.close()}))};o.default=c},"80d5":function(t,o,e){"use strict";e.r(o);var n=e("da4f"),i=e.n(n);for(var a in n)"default"!==a&&function(t){e.d(o,t,(function(){return n[t]}))}(a);o["default"]=i.a},"991c":function(t,o,e){var n=e("0148");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=e("4f06").default;i("d5340706",n,!0,{sourceMap:!1,shadowMode:!1})},a798:function(t,o,e){"use strict";e.r(o);var n=e("7d9b"),i=e.n(n);for(var a in n)"default"!==a&&function(t){e.d(o,t,(function(){return n[t]}))}(a);o["default"]=i.a},b118:function(t,o,e){var n=e("b93a");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=e("4f06").default;i("5926eb5c",n,!0,{sourceMap:!1,shadowMode:!1})},b93a:function(t,o,e){var n=e("24fb");o=n(!1),o.push([t.i,".container[data-v-23d71b25]{background-color:#f2f2f2;min-height:calc(100vh - 40px)}.top_info[data-v-23d71b25],\r\n.top_price[data-v-23d71b25]{background-color:#fff;padding:10px 15px 0 15px}.top_info[data-v-23d71b25]{margin-bottom:8px;padding-bottom:10px}.top_left[data-v-23d71b25],\r\n.top_right[data-v-23d71b25]{display:inline-block}.top_left img[data-v-23d71b25]{width:88px;height:88px}.top_right[data-v-23d71b25]{height:90px;vertical-align:top;position:relative}.top_right[data-v-23d71b25]{width:calc(100% - 93px);margin-left:5px}.right_top[data-v-23d71b25],\r\n.right_middle[data-v-23d71b25],\r\n.right_bottom[data-v-23d71b25]{font-size:14px}.right_bottom[data-v-23d71b25]{position:absolute;bottom:0;width:100%}.right_bottom .num[data-v-23d71b25]{float:right;color:#969799}.wPan[data-v-23d71b25],\r\n.click_wPan[data-v-23d71b25]{margin-top:10px}.pan_url[data-v-23d71b25],\r\n.pan_code[data-v-23d71b25],\r\n.click_pan_url[data-v-23d71b25]{font-size:14px}.pan_url[data-v-23d71b25]{margin-bottom:5px}.left_title[data-v-23d71b25],\r\n.click_left_title[data-v-23d71b25]{width:20%;display:inline-block}.pan_url .left_title[data-v-23d71b25]{min-height:40px}.right_text[data-v-23d71b25]{width:75%;margin-left:3%;float:right;word-break:break-all}.click_pan_url[data-v-23d71b25]{height:30px;line-height:30px}.show_btn[data-v-23d71b25]{float:right}.good_price[data-v-23d71b25],\r\n.fast_price[data-v-23d71b25]{font-size:14px;height:40px;line-height:40px}.good_price[data-v-23d71b25]{border-bottom:1px solid #ebedf0}.good_price .right[data-v-23d71b25],\r\n.fast_price .right[data-v-23d71b25]{float:right;color:#ff1497}.middle_content[data-v-23d71b25]{background-color:#fff;margin-top:15px;padding:10px 20px}.user_msg[data-v-23d71b25]{font-size:14px}.user_address[data-v-23d71b25]{font-size:12px;color:#969799;margin-top:5px}.bottom_list[data-v-23d71b25]{background-color:#fff;padding:10px 15px;margin-top:15px}.bottom_list ul[data-v-23d71b25]{padding:0}.bottom_list ul li[data-v-23d71b25]{list-style:none;padding:10px 0;font-size:14px;border-bottom:1px solid #ebedf0}.li_left[data-v-23d71b25],\r\n.li_right[data-v-23d71b25]{width:50%;display:inline-block;vertical-align:top}.li_right[data-v-23d71b25]{text-align:right;word-break:break-all}.li_color[data-v-23d71b25]{color:#ff1497}.list_btn[data-v-23d71b25]{text-align:right;padding:0 10px;background-color:#fff;margin-bottom:20px}.list_btn uni-button[data-v-23d71b25]{margin-left:10px}.color_btn[data-v-23d71b25]{border-color:#ff1497!important;background-color:#ff1497!important;color:#fff!important}",""]),t.exports=o},da4f:function(t,o,e){"use strict";e("a9e3"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var n={name:"UniPopupMessage",props:{type:{type:String,default:"success"},message:{type:String,default:""},duration:{type:Number,default:3e3}},inject:["popup"],data:function(){return{}},created:function(){this.popup.childrenMsg=this},methods:{open:function(){var t=this;0!==this.duration&&(clearTimeout(this.popuptimer),this.popuptimer=setTimeout((function(){t.popup.close()}),this.duration))},close:function(){clearTimeout(this.popuptimer)}}};o.default=n},f5de:function(t,o,e){"use strict";var n=e("b118"),i=e.n(n);i.a},fa0d:function(t,o,e){"use strict";e.d(o,"b",(function(){return i})),e.d(o,"c",(function(){return a})),e.d(o,"a",(function(){return n}));var n={uniPopup:e("636b").default},i=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("v-uni-view",{staticClass:"container"},[t.orderInfo?e("v-uni-view",{staticClass:"top_content"},[t._l(t.orderGoods,(function(o,n){return e("v-uni-view",{key:o.id,staticClass:"top_info"},[e("v-uni-view",{staticClass:"top_left"},[e("img",{attrs:{src:o.picUrl,alt:""}})]),e("v-uni-view",{staticClass:"top_right"},[e("v-uni-view",{staticClass:"right_top"},[t._v(t._s(o.goodsName))]),e("v-uni-view",{staticClass:"right_middle"},[e("span",[t._v("暂无描述")])]),e("v-uni-view",{staticClass:"right_bottom"},[e("span",{staticClass:"price"},[t._v("¥"+t._s(Number(o.price).toFixed(2)))]),e("span",{staticClass:"num"},[t._v("× "+t._s(o.number))])])],1),o.uloveAccessory&&0==n&&t.showBtn?e("v-uni-view",{staticClass:"click_wPan"},[e("v-uni-view",{staticClass:"click_pan_url"},[e("span",{staticClass:"click_left_title"},[t._v("网盘链接:")]),e("v-uni-button",{staticClass:"show_btn",attrs:{size:"mini",type:"primary"},on:{click:function(o){arguments[0]=o=t.$handleEvent(o),t.showPan(t.orderInfo.id)}}},[t._v("查看")])],1)],1):t._e(),o.uloveAccessory&&!t.showBtn?e("v-uni-view",{staticClass:"wPan"},[e("v-uni-view",{staticClass:"pan_url"},[e("span",{staticClass:"left_title"},[t._v("网盘链接:")]),e("span",{staticClass:"right_text",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.copy(o.uloveAccessory.accessoryLink)}}},[t._v(t._s(o.uloveAccessory.accessoryLink))])]),e("v-uni-view",{staticClass:"pan_code"},[e("span",{staticClass:"left_title"},[t._v("提取码:")]),e("span",{staticClass:"right_text",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.copy(o.uloveAccessory.accessoryCode)}}},[t._v(t._s(o.uloveAccessory.accessoryCode))])])],1):t._e()],1)})),e("v-uni-view",{staticClass:"top_price"},[e("v-uni-view",{staticClass:"good_price"},[e("span",{staticClass:"left"},[t._v("商品金额")]),e("span",{staticClass:"right"},[t._v("¥"+t._s(Number(t.orderInfo.goodsPrice).toFixed(2)))])]),e("v-uni-view",{staticClass:"fast_price"},[e("span",{staticClass:"left"},[t._v("快递费用")]),e("span",{staticClass:"right"},[t._v("¥"+t._s(Number(t.orderInfo.freightPrice).toFixed(2)))])])],1)],2):t._e(),e("v-uni-view",{staticClass:"middle_content"},[e("v-uni-view",{staticClass:"user_msg"},[t._v(t._s(t.orderInfo.consignee)+" "+t._s(t.orderInfo.mobile))]),e("v-uni-view",{staticClass:"user_address"},[t._v(t._s(t.orderInfo.address))])],1),e("v-uni-view",{staticClass:"bottom_list"},[e("ul",[e("li",[e("span",{staticClass:"li_left"},[t._v("下单时间:")]),e("span",{staticClass:"li_right"},[t._v(t._s(t.orderInfo.addTime))])]),e("li",[e("span",{staticClass:"li_left"},[t._v("订单编号:")]),e("span",{staticClass:"li_right"},[t._v(t._s(t.orderInfo.orderSn))])]),e("li",[e("span",{staticClass:"li_left"},[t._v("订单备注:")]),e("span",{staticClass:"li_right"},[t._v(t._s(t.orderInfo.remark))])]),e("li",[e("span",{staticClass:"li_left"},[t._v("实付款：")]),e("span",{staticClass:"li_right li_color"},[t._v("¥"+t._s(Number(t.orderInfo.actualPrice).toFixed(2)))])])])]),e("v-uni-view",{staticClass:"list_btn"},[t.handleOption.cancel?e("v-uni-button",{staticClass:"cancel_btn color_btn",attrs:{type:"default",plain:"true",size:"mini"},on:{click:function(o){o.stopPropagation(),arguments[0]=o=t.$handleEvent(o),t.showDialog(t.orderInfo.id,1)}}},[t._v("取消订单")]):t._e(),t.handleOption.pay?e("v-uni-button",{staticClass:"pay_btn color_btn",attrs:{type:"default",plain:"true",size:"mini"},on:{click:function(o){o.stopPropagation(),arguments[0]=o=t.$handleEvent(o),t.pay(t.orderInfo.id)}}},[t._v("去支付")]):t._e(),t.handleOption.delete?e("v-uni-button",{staticClass:"evaluate_btn color_btn",attrs:{type:"default",plain:"true",size:"mini"},on:{click:function(o){o.stopPropagation(),arguments[0]=o=t.$handleEvent(o),t.showDialog(t.orderInfo.id,2)}}},[t._v("删除订单")]):t._e(),t.handleOption.confirm?e("v-uni-button",{staticClass:"confirm_btn color_btn",attrs:{type:"default",plain:"true",size:"mini"},on:{click:function(o){o.stopPropagation(),arguments[0]=o=t.$handleEvent(o),t.showDialog(t.orderInfo.id,3)}}},[t._v("确认收货")]):t._e(),t.handleOption.refund?e("v-uni-button",{staticClass:"refund_btn color_btn",attrs:{type:"default",plain:"true",size:"mini"},on:{click:function(o){o.stopPropagation(),arguments[0]=o=t.$handleEvent(o),t.showDialog(t.orderInfo.id,4)}}},[t._v("退款")]):t._e()],1),e("v-uni-view",[e("uni-popup",{ref:"popup",attrs:{type:"center"}},[e("uni-popup-dialog",{attrs:{type:"warn",content:t.dialogContent,duration:2e3,"before-close":!0},on:{close:function(o){arguments[0]=o=t.$handleEvent(o),t.close.apply(void 0,arguments)},confirm:function(o){arguments[0]=o=t.$handleEvent(o),t.confirm.apply(void 0,arguments)}}})],1)],1)],1)},a=[]}}]);